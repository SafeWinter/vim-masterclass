# L33 Exercise 09 - Macros - Walkthrough
---

本节为同步练习点评课，视频本身没有增补知识点。这里仅对实操过程中的几个问题进行复盘：

- 除了宏录制前后需要注意光标的归一化处理（即回到行首、下移一行之类），还应将运行宏操作前的 **内容查看环节** 作为另一项最佳实践（上述练习均包含该步骤）。这样做，一来可以直观了解用到的特殊符号的写法；二来可以及时发现操作过程中出现的问题；
- 在重复运行宏时，如果此前从未执行过宏，使用 <kbd>@</kbd><kbd>@</kbd> 可能会出错。最好先用 `@{macro_name}` 的形式运行宏；
- 批量处理最容易出错的地方，往往不在待处理内容中间，而在 **最后一个待处理项** 上。例如练习 6 中的链接内容提取，第一次尝试录制宏时，在分离 `</a><a>` 时选择了先删除 `</a>` 再用 <kbd>I</kbd> 键插入一个回车符。处理到最后一个链接时，由于闭标签后没有下一个 `<a>`，再用 <kbd>I</kbd> 键插入回车符会让最后一个字符 `s` 与前面的内容分离。既然是批量操作，就应当一气呵成，切忌在这样的临界点位置拖泥带水。
